<!DOCTYPE html>
{% extends 'sequencelistings/base.html' %}

{%block header_block %}
    <h2>Add new sequence</h2>
{% endblock %}

{% block body_block %}
<p><a href="{% url 'sequencelistings:index' %}">Home &gt;&gt;</a>
<a href="{% url 'sequencelistings:detail' pk %}">{{seql}} &gt;&gt;</a>
</p>

<!-- import -->
<hr>
<h3>IMPORT</h3>
<!-- create -->
<hr>
<h3>CREATE</h3>
<p>
<strong>Note:</strong> In addition to the standard residues symbols, <strong>Residues</strong> field accepts formulas. For example, 'cgt(cgta)4..6gt' will be expanded to the longest possible sequence (in this case, 'cgta' group will be repeated 6 times).
</p>
<form action="{% url 'sequencelistings:add_seq' pk %}" method="post">
    {% csrf_token %}
    
    <!-- <p>Sequence name:<input type='text' name='sequenceName' placeholder='Still to be implemented.'></p> -->
    
    <table class="genTable">
        {{ form.as_table }}
    </table>
    
    <br>
    <!-- test drop -->
    <div class="category_div" id="category_div">Molecule type:
        <select name="category" class="required-entry" id="category" onchange="javascript: dynamicdropdown(this.options[this.selectedIndex].value);">
            <option value="">select molecule type</option>
            <option value="DNA">DNA</option>
            <option value="RNA">RNA</option>
            <option value="AA">AA</option>
        </select>
    </div>
    <div class="sub_category_div" id="sub_category_div">Qualifier mol_type:
        <script type="text/javascript" language="JavaScript">
            document.write('<select name="subcategory" id="subcategory"><option value="">select mol_type</option></select>')
        </script>
        <noscript>
            <select name="subcategory" id="subcategory" >
                <option value="">select qualifier mol_type</option>
            </select>
        </noscript>
    </div>
    <!-- end test drop -->
    <p><input type="submit" value="Submit" /></p>
    
</form>
<!-- test js -->
<script language="javascript" type="text/javascript">
     function dynamicdropdown(listindex)
     {
         document.getElementById("subcategory").length = 0;
         switch (listindex)
         {
             case "DNA" :
                 document.getElementById("subcategory").options[0]=new Option("select mol_type","");
                 document.getElementById("subcategory").options[1]=new Option("genomic DNA","genomic DNA");
                 document.getElementById("subcategory").options[2]=new Option("optionA","optionA");
                 document.getElementById("subcategory").options[3]=new Option("optionB","optionB");
                 break;
             
             case "RNA" :
                 document.getElementById("subcategory").options[0]=new Option("select mol_type","");
                 document.getElementById("subcategory").options[1]=new Option("genomic RNA","genomic RNA");
                 document.getElementById("subcategory").options[2]=new Option("optionC","optionC");
                 break;
             case "AA" :
                 document.getElementById("subcategory").options[0]=new Option("select mol_type","");
                 document.getElementById("subcategory").options[1]=new Option("protein","protein");
                 document.getElementById("subcategory").options[2]=new Option("optionD","optionD");
                 break;
         }
         return true;
     }
</script>
<!-- end test js -->
{% endblock %}
